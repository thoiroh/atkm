<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guide d'installation macOS - Atomeek DataMatrix</title>
  <link rel="stylesheet" href="atk.docs.global.styles.css">
  <style>
    /* Styles pour les boutons de copie */
    .code-container {
      position: relative;
    }

    .copy-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #e74c3c;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
      font-weight: bold;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .copy-button:hover {
      background: #c0392b;
      transform: scale(1.05);
    }

    .copy-button.copied {
      background: #27ae60;
      transform: scale(1.1);
    }
  </style>
</head>

<body>
  <div class="document-container">
    <div class="document-wrapper">
      <div class="document-header">
        <h1 class="document-title">üçé guide d'installation macos - atomeek datamatrix</h1>
        <div class="document-subtitle">Configuration compl√®te Angular 20 + PHP 8.3 + Docker sur macOS Sequoia</div>
      </div>

      <div class="metadata-section">
        <div class="metadata-box">
          <div class="metadata-item">
            <span class="metadata-label">üìÖ Date :</span> 9 ao√ªt 2025
          </div>
          <div class="metadata-item">
            <span class="metadata-label">üë§ Projet :</span> atomeek-datamatrix
          </div>
          <div class="metadata-item">
            <span class="metadata-label">üèóÔ∏è Stack :</span> Angular 20 + PHP 8.3 + Docker
          </div>
          <div class="metadata-item">
            <span class="metadata-label">üìä Status :</span> <span class="status-success">‚úÖ Adapt√© pour macOS</span>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">1Ô∏è‚É£</span>pr√©requis syst√®me macos</h2>

          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">üçé syst√®me macos sequoia</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">macOS Sequoia 15.4.1+ (version actuelle)</li>
                  <li class="list-item">RAM : Minimum 8GB (16GB recommand√©)</li>
                  <li class="list-item">Stockage : 20GB libres minimum</li>
                  <li class="list-item">Architecture : Apple Silicon (M1/M2/M3) ou Intel</li>
                </ul>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">üõ†Ô∏è outils de d√©veloppement</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Node.js : Version 20.x LTS (via Homebrew)</li>
                  <li class="list-item">Git : Pr√©install√© ou via Xcode Command Line Tools</li>
                  <li class="list-item">VS Code : Version macOS</li>
                  <li class="list-item">Docker Desktop for Mac : Version r√©cente</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="alert-box alert-info">
            <strong>üéØ Avantage macOS :</strong> Pas besoin de WSL2 ! Docker fonctionne nativement avec une meilleure
            performance qu'avec WSL2 sur Windows.
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">2Ô∏è‚É£</span>installation des pr√©requis macos</h2>

          <h3 class="section-subtitle">üç∫ √©tape 1 : installation homebrew</h3>
          <div class="steps-container">
            <div class="steps-title">Si Homebrew n'est pas install√© :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Installer Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Ajouter Homebrew au PATH
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">‚öôÔ∏è √©tape 2 : installation xcode command line tools</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Installer Xcode Command Line Tools (inclut Git)
xcode-select --install</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">üü¢ √©tape 3 : installation node.js</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Installer Node.js 20 LTS via Homebrew
brew install node@20

# Lier Node.js 20 comme version par d√©faut
brew link node@20 --force

# V√©rifier l'installation
node --version
npm --version</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">üê≥ √©tape 4 : installation docker desktop for mac</h3>
          <div class="steps-container">
            <div class="steps-title">Installation Docker Desktop :</div>
            <ol class="steps-list">
              <li class="step-item">Aller sur <code>https://www.docker.com/products/docker-desktop</code></li>
              <li class="step-item">T√©l√©charger "Docker Desktop for Mac"</li>
              <li class="step-item">Choisir la version selon votre Mac :
                <ul>
                  <li><strong>Apple Silicon :</strong> Puce M1/M2/M3</li>
                  <li><strong>Intel :</strong> Processeur Intel</li>
                </ul>
              </li>
              <li class="step-item">Glisser Docker.app dans le dossier Applications</li>
              <li class="step-item">Lancer Docker Desktop et accepter les permissions</li>
            </ol>
          </div>

          <h3 class="section-subtitle">‚úÖ v√©rification installation</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Test Docker
docker --version
docker run hello-world

# Test Docker Compose
docker-compose --version

# V√©rifier Node.js
node --version
npm --version</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">3Ô∏è‚É£</span>r√©cup√©ration du projet</h2>

          <h3 class="section-subtitle">üì• clonage depuis windows</h3>
          <div class="steps-container">
            <div class="steps-title">Transfert via Git repository :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Sur votre Mac, dans le Terminal
cd ~/Documents  # ou votre dossier de projets pr√©f√©r√©

# Cloner le repository (remplacer par votre URL)
git clone [votre-repo-url] atomeek-datamatrix
cd atomeek-datamatrix

# V√©rifier la structure
ls -la</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">üîß optimisations sp√©cifiques macos</h3>

          <h4 class="card-title">üìÑ modification docker-compose.yml pour mac</h4>
          <div class="file-path">Optimisation des volumes pour macOS</div>
          <div class="code-container">
            <div class="code-block">
              <pre># Dans docker-compose.yml, modifier la section Angular :
  angular:
    build:
      context: ./atkm
      dockerfile: Dockerfile
    container_name: atomeek_angular
    restart: unless-stopped
    ports:
      - "4200:4200"
    volumes:
      - ./atkm:/app:cached  # Ajouter :cached pour optimiser les performances
      - /app/node_modules    # Volume d√©l√©gu√© pour node_modules
    environment:
      - NODE_ENV=development
      - COMPOSE_DOCKER_CLI_BUILD=1  # Optimisation macOS
      - DOCKER_BUILDKIT=1           # Optimisation macOS
    networks:
      - atomeek_network</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h4 class="card-title">üìÑ ajout du fichier .env optimis√© macos</h4>
          <div class="file-path">Ajouter dans /atkm_back/.env</div>
          <div class="code-container">
            <div class="code-block">
              <pre># Optimisations sp√©cifiques macOS
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1

# Configuration macOS pour de meilleures performances
DOCKER_SCAN_SUGGEST=false</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">üîê permissions de fichiers</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Ajuster les permissions pour macOS
chmod -R 755 atkm_back/public
chmod -R 755 atkm
chmod -R 755 docker

# Rendre les scripts ex√©cutables si n√©cessaire
find . -name "*.sh" -exec chmod +x {} \;</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">4Ô∏è‚É£</span>configuration docker (identique)</h2>

          <div class="alert-box alert-success">
            <strong>‚úÖ Bonne nouvelle :</strong> Toute la configuration Docker reste identique ! Les fichiers
            docker-compose.yml, Dockerfiles, et configurations restent exactement les m√™mes qu'sur Windows.
          </div>

          <h3 class="section-subtitle">üìÅ structure des dossiers (identique)</h3>
          <div class="code-container">
            <div class="code-block">
              <pre>atomeek-datamatrix/
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ assets/                   # Assets partag√©s
‚îú‚îÄ‚îÄ atkm/                    # Frontend Angular 20
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ environments/
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ angular.json
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ proxy.conf.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.app.json
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ atkm_back/               # Backend PHP 8.3
‚îÇ   ‚îú‚îÄ‚îÄ public/               # Point d'entr√©e web
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .htaccess
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uploads/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ vendor/
‚îÇ   ‚îú‚îÄ‚îÄ composer.json
‚îÇ   ‚îî‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ database/                 # Schemas et migrations
‚îú‚îÄ‚îÄ docker/                   # Configuration Docker
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf
‚îÇ   ‚îú‚îÄ‚îÄ php/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ php.ini
‚îÇ   ‚îî‚îÄ‚îÄ mysql/
‚îú‚îÄ‚îÄ docs/
‚îú‚îÄ‚îÄ scripts/
‚îú‚îÄ‚îÄ shared/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">5Ô∏è‚É£</span>d√©marrage sur macos</h2>

          <h3 class="section-subtitle">üöÄ proc√©dure de d√©marrage</h3>

          <div class="steps-container">
            <div class="steps-title">1. V√©rification des pr√©requis :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Dans le dossier du projet
cd atomeek-datamatrix

# V√©rifier que Docker est d√©marr√©
docker --version
docker info

# V√©rifier la structure des fichiers
ls -la atkm/src/
ls -la atkm_back/public/</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <div class="steps-container">
            <div class="steps-title">2. Construction et d√©marrage :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Construire et d√©marrer tous les containers
docker-compose up --build -d

# V√©rifier le status des containers
docker-compose ps

# Voir les logs en temps r√©el
docker-compose logs -f</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <div class="steps-container">
            <div class="steps-title">3. Installation des d√©pendances PHP :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Installer les d√©pendances PHP via Composer
docker-compose exec php composer install

# V√©rifier les logs PHP
docker-compose logs php</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">‚úÖ v√©rification de l'installation</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">üÖ∞Ô∏è angular (port 4200)</h4>
              <div class="card-content">
                <p><code>http://localhost:4200</code></p>
                <p>Interface utilisateur Atomeek DataMatrix</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">üåê api php (port 8000)</h4>
              <div class="card-content">
                <p><code>http://localhost:8000</code></p>
                <p>API JSON de d√©veloppement</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">üê¨ phpmyadmin (port 8080)</h4>
              <div class="card-content">
                <p><code>http://localhost:8080</code></p>
                <p>Interface de gestion MySQL</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">üî¥ redis (port 6379)</h4>
              <div class="card-content">
                <p>Cache en m√©moire (optionnel)</p>
                <p>Accessible via les containers</p>
              </div>
            </div>
          </div>

          <h3 class="section-subtitle">üß™ tests rapides</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Test API PHP
curl -X GET http://localhost:4200

# Test de l'API
curl -X GET http://localhost:8000

# V√©rifier les containers actifs
docker-compose ps

# Voir l'utilisation des ressources
docker stats</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">6Ô∏è‚É£</span>sp√©cificit√©s macos</h2>

          <h3 class="section-subtitle">üöÄ avantages sur macos</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">‚ö° performances</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Pas de couche WSL2 ‚Üí plus rapide</li>
                  <li class="list-item">Docker natif macOS</li>
                  <li class="list-item">Apple Silicon tr√®s performant</li>
                  <li class="list-item">Gestion m√©moire optimis√©e</li>
                </ul>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">üîß outils int√©gr√©s</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Terminal puissant (zsh)</li>
                  <li class="list-item">Git pr√©install√©</li>
                  <li class="list-item">Homebrew pour les packages</li>
                  <li class="list-item">VS Code natif</li>
                </ul>
              </div>
            </div>
          </div>

          <h3 class="section-subtitle">üîß commandes utiles macos</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Gestion des containers
docker-compose up -d          # D√©marrer en arri√®re-plan
docker-compose down           # Arr√™ter tout
docker-compose restart       # Red√©marrer tout

# Monitoring sp√©cifique macOS
top -o cpu                   # Voir l'utilisation CPU
activity_monitor             # Moniteur d'activit√© (GUI)

# Nettoyage Docker
docker system prune -a       # Nettoyer tout Docker
docker volume prune          # Nettoyer les volumes

# Homebrew utile
brew update                  # Mettre √† jour Homebrew
brew upgrade                 # Mettre √† jour les packages
brew list                    # Lister les packages install√©s</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">üêû troubleshooting macos</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">‚ùå probl√®me : "Permission denied"</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Corriger les permissions
sudo chown -R $(whoami) /path/to/project
chmod -R 755 atkm_back/public</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">‚ùå probl√®me : "Port already in use"</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Trouver le processus utilisant le port
sudo lsof -i :4200
sudo lsof -i :8000

# Tuer le processus (remplacer PID)
kill -9 [PID]</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">‚ùå probl√®me : Docker lent</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Augmenter la m√©moire Docker
# Dans Docker Desktop ‚Üí Settings ‚Üí Resources
# CPU: 4+ cores
# Memory: 8GB+
# Swap: 2GB</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">7Ô∏è‚É£</span>d√©veloppement quotidien</h2>

          <h3 class="section-subtitle">üîÑ workflow de d√©veloppement</h3>
          <div class="steps-container">
            <div class="steps-title">D√©marrage quotidien :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># 1. Ouvrir le Terminal et aller dans le projet
cd ~/Documents/atomeek-datamatrix

# 2. V√©rifier que Docker Desktop est lanc√©
docker info

# 3. D√©marrer les containers
docker-compose up -d

# 4. V√©rifier que tout fonctionne
open http://localhost:4200
open http://localhost:8000
open http://localhost:8080

# 5. Voir les logs si n√©cessaire
docker-compose logs -f angular</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">üõ†Ô∏è d√©veloppement avec vs code</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Ouvrir VS Code depuis le Terminal
code .

# Ou cr√©er un alias pratique dans ~/.zshrc
echo 'alias atk="cd ~/Documents/atomeek-datamatrix && code ."' >> ~/.zshrc
source ~/.zshrc

# Utiliser l'alias
atk</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">üîó synchronisation avec windows</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Synchroniser les changements entre Windows et Mac
# Via Git repository

# 1. Commit sur Windows
git add .
git commit -m "Modifications Windows"
git push

# 2. Pull sur Mac
git pull origin main

# 3. Red√©marrer les containers si n√©cessaire
docker-compose restart</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="next-steps-section">
          <h2 class="next-steps-title"><span class="emoji-icon">‚úÖ</span>installation macos r√©ussie</h2>
          <p class="section-text">Votre environnement <strong>atomeek datamatrix</strong> est maintenant op√©rationnel
            sur macOS Sequoia avec des performances optimis√©es !</p>

          <h3 class="section-subtitle">üéØ URLs de d√©veloppement :</h3>
          <ul class="content-list">
            <li class="list-item"><strong>Angular :</strong> <code>http://localhost:4200</code></li>
            <li class="list-item"><strong>API PHP :</strong> <code>http://localhost:8000</code></li>
            <li class="list-item"><strong>PhpMyAdmin :</strong> <code>http://localhost:8080</code></li>
          </ul>

          <h3 class="section-subtitle">‚ö° performances attendues :</h3>
          <ul class="content-list">
            <li class="list-item">D√©marrage plus rapide qu'avec WSL2</li>
            <li class="list-item">Hot reload Angular instantan√©</li>
            <li class="list-item">Synchronisation fichiers optimis√©e</li>
            <li class="list-item">Consommation m√©moire r√©duite</li>
          </ul>
        </div>
      </div>

      <div class="document-footer">
        <div class="footer-title">üçé atomeek datamatrix - guide d'installation macos</div>
        <p>Documentation adapt√©e pour macOS Sequoia avec optimisations sp√©cifiques</p>
      </div>
    </div>
  </div>

  <script>
    // Fonction de copie dans le presse-papiers
    async function copyToClipboard(button) {
      const codeBlock = button.previousElementSibling;
      const code = codeBlock.innerText;

      try {
        await navigator.clipboard.writeText(code);

        // Feedback visuel
        const originalText = button.textContent;
        button.textContent = 'Copi√© !';
        button.classList.add('copied');

        // Retour √† l'√©tat normal apr√®s 2 secondes
        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove('copied');
        }, 2000);

      } catch (err) {
        // Fallback pour les navigateurs plus anciens
        const textArea = document.createElement('textarea');
        textArea.value = code;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);

        // Feedback visuel
        const originalText = button.textContent;
        button.textContent = 'Copi√© !';
        button.classList.add('copied');

        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove('copied');
        }, 2000);
      }
    }

    // Smooth scrolling pour les liens d'ancrage
    document.addEventListener('DOMContentLoaded', function () {
      const links = document.querySelectorAll('a[href^="#"]');
      links.forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</body>

</html>
