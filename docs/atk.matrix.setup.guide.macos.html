<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guide d'installation macOS - Atomeek DataMatrix</title>
  <link rel="stylesheet" href="atk.docs.global.styles.css">
  <style>
    /* Styles pour les boutons de copie */
    .code-container {
      position: relative;
    }

    .copy-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #e74c3c;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
      font-weight: bold;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .copy-button:hover {
      background: #c0392b;
      transform: scale(1.05);
    }

    .copy-button.copied {
      background: #27ae60;
      transform: scale(1.1);
    }
  </style>
</head>

<body>
  <div class="document-container">
    <div class="document-wrapper">
      <div class="document-header">
        <h1 class="document-title">ğŸ guide d'installation macos - atomeek datamatrix</h1>
        <div class="document-subtitle">Configuration complÃ¨te Angular 20 + PHP 8.3 + Docker sur macOS Sequoia</div>
      </div>

      <div class="metadata-section">
        <div class="metadata-box">
          <div class="metadata-item">
            <span class="metadata-label">ğŸ“… Date :</span> 9 aoÃ»t 2025
          </div>
          <div class="metadata-item">
            <span class="metadata-label">ğŸ‘¤ Projet :</span> atomeek-datamatrix
          </div>
          <div class="metadata-item">
            <span class="metadata-label">ğŸ—ï¸ Stack :</span> Angular 20 + PHP 8.3 + Docker
          </div>
          <div class="metadata-item">
            <span class="metadata-label">ğŸ“Š Status :</span> <span class="status-success">âœ… AdaptÃ© pour macOS</span>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">1ï¸âƒ£</span>prÃ©requis systÃ¨me macos</h2>

          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">ğŸ systÃ¨me macos sequoia</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">macOS Sequoia 15.4.1+ (version actuelle)</li>
                  <li class="list-item">RAM : Minimum 8GB (16GB recommandÃ©)</li>
                  <li class="list-item">Stockage : 20GB libres minimum</li>
                  <li class="list-item">Architecture : Apple Silicon (M1/M2/M3) ou Intel</li>
                </ul>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">ğŸ› ï¸ outils de dÃ©veloppement</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Node.js : Version 20.x LTS (via Homebrew)</li>
                  <li class="list-item">Git : PrÃ©installÃ© ou via Xcode Command Line Tools</li>
                  <li class="list-item">VS Code : Version macOS</li>
                  <li class="list-item">Docker Desktop for Mac : Version rÃ©cente</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="alert-box alert-info">
            <strong>ğŸ¯ Avantage macOS :</strong> Pas besoin de WSL2 ! Docker fonctionne nativement avec une meilleure
            performance qu'avec WSL2 sur Windows.
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">2ï¸âƒ£</span>installation des prÃ©requis macos</h2>

          <h3 class="section-subtitle">ğŸº Ã©tape 1 : installation homebrew</h3>
          <div class="steps-container">
            <div class="steps-title">Si Homebrew n'est pas installÃ© :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Installer Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Ajouter Homebrew au PATH
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">âš™ï¸ Ã©tape 2 : installation xcode command line tools</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Installer Xcode Command Line Tools (inclut Git)
xcode-select --install</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">ğŸŸ¢ Ã©tape 3 : installation node.js</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Installer Node.js 20 LTS via Homebrew
brew install node@20

# Lier Node.js 20 comme version par dÃ©faut
brew link node@20 --force

# VÃ©rifier l'installation
node --version
npm --version</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">ğŸ³ Ã©tape 4 : installation docker desktop for mac</h3>
          <div class="steps-container">
            <div class="steps-title">Installation Docker Desktop :</div>
            <ol class="steps-list">
              <li class="step-item">Aller sur <code>https://www.docker.com/products/docker-desktop</code></li>
              <li class="step-item">TÃ©lÃ©charger "Docker Desktop for Mac"</li>
              <li class="step-item">Choisir la version selon votre Mac :
                <ul>
                  <li><strong>Apple Silicon :</strong> Puce M1/M2/M3</li>
                  <li><strong>Intel :</strong> Processeur Intel</li>
                </ul>
              </li>
              <li class="step-item">Glisser Docker.app dans le dossier Applications</li>
              <li class="step-item">Lancer Docker Desktop et accepter les permissions</li>
            </ol>
          </div>

          <h3 class="section-subtitle">âœ… vÃ©rification installation</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Test Docker
docker --version
docker run hello-world

# Test Docker Compose
docker-compose --version

# VÃ©rifier Node.js
node --version
npm --version</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">3ï¸âƒ£</span>rÃ©cupÃ©ration du projet</h2>

          <h3 class="section-subtitle">ğŸ“¥ clonage depuis windows</h3>
          <div class="steps-container">
            <div class="steps-title">Transfert via Git repository :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Sur votre Mac, dans le Terminal
cd ~/Documents  # ou votre dossier de projets prÃ©fÃ©rÃ©

# Cloner le repository (remplacer par votre URL)
git clone [votre-repo-url] atomeek-datamatrix
cd atomeek-datamatrix

# VÃ©rifier la structure
ls -la</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">ğŸ”§ optimisations spÃ©cifiques macos</h3>

          <h4 class="card-title">ğŸ“„ modification docker-compose.yml pour mac</h4>
          <div class="file-path">Optimisation des volumes pour macOS</div>
          <div class="code-container">
            <div class="code-block">
              <pre># Dans docker-compose.yml, modifier la section Angular :
  angular:
    build:
      context: ./atkm
      dockerfile: Dockerfile
    container_name: atomeek_angular
    restart: unless-stopped
    ports:
      - "4200:4200"
    volumes:
      - ./atkm:/app:cached  # Ajouter :cached pour optimiser les performances
      - /app/node_modules    # Volume dÃ©lÃ©guÃ© pour node_modules
    environment:
      - NODE_ENV=development
      - COMPOSE_DOCKER_CLI_BUILD=1  # Optimisation macOS
      - DOCKER_BUILDKIT=1           # Optimisation macOS
    networks:
      - atomeek_network</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h4 class="card-title">ğŸ“„ ajout du fichier .env optimisÃ© macos</h4>
          <div class="file-path">Ajouter dans /atkm_back/.env</div>
          <div class="code-container">
            <div class="code-block">
              <pre># Optimisations spÃ©cifiques macOS
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1

# Configuration macOS pour de meilleures performances
DOCKER_SCAN_SUGGEST=false</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">ğŸ” permissions de fichiers</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Ajuster les permissions pour macOS
chmod -R 755 atkm_back/public
chmod -R 755 atkm
chmod -R 755 docker

# Rendre les scripts exÃ©cutables si nÃ©cessaire
find . -name "*.sh" -exec chmod +x {} \;</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">4ï¸âƒ£</span>configuration docker (identique)</h2>

          <div class="alert-box alert-success">
            <strong>âœ… Bonne nouvelle :</strong> Toute la configuration Docker reste identique ! Les fichiers
            docker-compose.yml, Dockerfiles, et configurations restent exactement les mÃªmes qu'sur Windows.
          </div>

          <h3 class="section-subtitle">ğŸ“ structure des dossiers (identique)</h3>
          <div class="code-container">
            <div class="code-block">
              <pre>atomeek-datamatrix/
â”œâ”€â”€ .git/
â”œâ”€â”€ assets/                   # Assets partagÃ©s
â”œâ”€â”€ atkm/                    # Frontend Angular 20
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ environments/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ angular.json
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ proxy.conf.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tsconfig.app.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ atkm_back/               # Backend PHP 8.3
â”‚   â”œâ”€â”€ public/               # Point d'entrÃ©e web
â”‚   â”‚   â”œâ”€â”€ index.php
â”‚   â”‚   â”œâ”€â”€ .htaccess
â”‚   â”‚   â””â”€â”€ uploads/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ app/
â”‚   â”œâ”€â”€ vendor/
â”‚   â”œâ”€â”€ composer.json
â”‚   â””â”€â”€ .env
â”œâ”€â”€ database/                 # Schemas et migrations
â”œâ”€â”€ docker/                   # Configuration Docker
â”‚   â”œâ”€â”€ nginx/
â”‚   â”‚   â””â”€â”€ nginx.conf
â”‚   â”œâ”€â”€ php/
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ php.ini
â”‚   â””â”€â”€ mysql/
â”œâ”€â”€ docs/
â”œâ”€â”€ scripts/
â”œâ”€â”€ shared/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">5ï¸âƒ£</span>dÃ©marrage sur macos</h2>

          <h3 class="section-subtitle">ğŸš€ procÃ©dure de dÃ©marrage</h3>

          <div class="steps-container">
            <div class="steps-title">1. VÃ©rification des prÃ©requis :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Dans le dossier du projet
cd atomeek-datamatrix

# VÃ©rifier que Docker est dÃ©marrÃ©
docker --version
docker info

# VÃ©rifier la structure des fichiers
ls -la atkm/src/
ls -la atkm_back/public/</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <div class="steps-container">
            <div class="steps-title">2. Construction et dÃ©marrage :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Construire et dÃ©marrer tous les containers
docker-compose up --build -d

# VÃ©rifier le status des containers
docker-compose ps

# Voir les logs en temps rÃ©el
docker-compose logs -f</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <div class="steps-container">
            <div class="steps-title">3. Installation des dÃ©pendances PHP :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># Installer les dÃ©pendances PHP via Composer
docker-compose exec php composer install

# VÃ©rifier les logs PHP
docker-compose logs php</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">âœ… vÃ©rification de l'installation</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">ğŸ…°ï¸ angular (port 4200)</h4>
              <div class="card-content">
                <p><code>http://localhost:4200</code></p>
                <p>Interface utilisateur Atomeek DataMatrix</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">ğŸŒ api php (port 8000)</h4>
              <div class="card-content">
                <p><code>http://localhost:8000</code></p>
                <p>API JSON de dÃ©veloppement</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">ğŸ¬ phpmyadmin (port 8080)</h4>
              <div class="card-content">
                <p><code>http://localhost:8080</code></p>
                <p>Interface de gestion MySQL</p>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">ğŸ”´ redis (port 6379)</h4>
              <div class="card-content">
                <p>Cache en mÃ©moire (optionnel)</p>
                <p>Accessible via les containers</p>
              </div>
            </div>
          </div>

          <h3 class="section-subtitle">ğŸ§ª tests rapides</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Test API PHP
curl -X GET http://localhost:4200

# Test de l'API
curl -X GET http://localhost:8000

# VÃ©rifier les containers actifs
docker-compose ps

# Voir l'utilisation des ressources
docker stats</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">6ï¸âƒ£</span>spÃ©cificitÃ©s macos</h2>

          <h3 class="section-subtitle">ğŸš€ avantages sur macos</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">âš¡ performances</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Pas de couche WSL2 â†’ plus rapide</li>
                  <li class="list-item">Docker natif macOS</li>
                  <li class="list-item">Apple Silicon trÃ¨s performant</li>
                  <li class="list-item">Gestion mÃ©moire optimisÃ©e</li>
                </ul>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">ğŸ”§ outils intÃ©grÃ©s</h4>
              <div class="card-content">
                <ul class="content-list">
                  <li class="list-item">Terminal puissant (zsh)</li>
                  <li class="list-item">Git prÃ©installÃ©</li>
                  <li class="list-item">Homebrew pour les packages</li>
                  <li class="list-item">VS Code natif</li>
                </ul>
              </div>
            </div>
          </div>

          <h3 class="section-subtitle">ğŸ”§ commandes utiles macos</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Gestion des containers
docker-compose up -d          # DÃ©marrer en arriÃ¨re-plan
docker-compose down           # ArrÃªter tout
docker-compose restart       # RedÃ©marrer tout

# Monitoring spÃ©cifique macOS
top -o cpu                   # Voir l'utilisation CPU
activity_monitor             # Moniteur d'activitÃ© (GUI)

# Nettoyage Docker
docker system prune -a       # Nettoyer tout Docker
docker volume prune          # Nettoyer les volumes

# Homebrew utile
brew update                  # Mettre Ã  jour Homebrew
brew upgrade                 # Mettre Ã  jour les packages
brew list                    # Lister les packages installÃ©s</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">ğŸ troubleshooting macos</h3>
          <div class="cards-grid">
            <div class="info-card">
              <h4 class="card-title">âŒ problÃ¨me : "Permission denied"</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Corriger les permissions
sudo chown -R $(whoami) /path/to/project
chmod -R 755 atkm_back/public</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">âŒ problÃ¨me : "Port already in use"</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Trouver le processus utilisant le port
sudo lsof -i :4200
sudo lsof -i :8000

# Tuer le processus (remplacer PID)
kill -9 [PID]</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h4 class="card-title">âŒ problÃ¨me : Docker lent</h4>
              <div class="card-content">
                <div class="code-container">
                  <div class="code-block">
                    <pre># Augmenter la mÃ©moire Docker
# Dans Docker Desktop â†’ Settings â†’ Resources
# CPU: 4+ cores
# Memory: 8GB+
# Swap: 2GB</pre>
                  </div>
                  <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <h2 class="section-title"><span class="emoji-icon">7ï¸âƒ£</span>dÃ©veloppement quotidien</h2>

          <h3 class="section-subtitle">ğŸ”„ workflow de dÃ©veloppement</h3>
          <div class="steps-container">
            <div class="steps-title">DÃ©marrage quotidien :</div>
            <div class="code-container">
              <div class="code-block">
                <pre># 1. Ouvrir le Terminal et aller dans le projet
cd ~/Documents/atomeek-datamatrix

# 2. VÃ©rifier que Docker Desktop est lancÃ©
docker info

# 3. DÃ©marrer les containers
docker-compose up -d

# 4. VÃ©rifier que tout fonctionne
open http://localhost:4200
open http://localhost:8000
open http://localhost:8080

# 5. Voir les logs si nÃ©cessaire
docker-compose logs -f angular</pre>
              </div>
              <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
            </div>
          </div>

          <h3 class="section-subtitle">ğŸ› ï¸ dÃ©veloppement avec vs code</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Ouvrir VS Code depuis le Terminal
code .

# Ou crÃ©er un alias pratique dans ~/.zshrc
echo 'alias atk="cd ~/Documents/atomeek-datamatrix && code ."' >> ~/.zshrc
source ~/.zshrc

# Utiliser l'alias
atk</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>

          <h3 class="section-subtitle">ğŸ”— synchronisation avec windows</h3>
          <div class="code-container">
            <div class="code-block">
              <pre># Synchroniser les changements entre Windows et Mac
# Via Git repository

# 1. Commit sur Windows
git add .
git commit -m "Modifications Windows"
git push

# 2. Pull sur Mac
git pull origin main

# 3. RedÃ©marrer les containers si nÃ©cessaire
docker-compose restart</pre>
            </div>
            <button class="copy-button" onclick="copyToClipboard(this)">Copier</button>
          </div>
        </div>

        <div class="next-steps-section">
          <h2 class="next-steps-title"><span class="emoji-icon">âœ…</span>installation macos rÃ©ussie</h2>
          <p class="section-text">Votre environnement <strong>atomeek datamatrix</strong> est maintenant opÃ©rationnel
            sur macOS Sequoia avec des performances optimisÃ©es !</p>

          <h3 class="section-subtitle">ğŸ¯ URLs de dÃ©veloppement :</h3>
          <ul class="content-list">
            <li class="list-item"><strong>Angular :</strong> <code>http://localhost:4200</code></li>
            <li class="list-item"><strong>API PHP :</strong> <code>http://localhost:8000</code></li>
            <li class="list-item"><strong>PhpMyAdmin :</strong> <code>http://localhost:8080</code></li>
          </ul>

          <h3 class="section-subtitle">âš¡ performances attendues :</h3>
          <ul class="content-list">
            <li class="list-item">DÃ©marrage plus rapide qu'avec WSL2</li>
            <li class="list-item">Hot reload Angular instantanÃ©</li>
            <li class="list-item">Synchronisation fichiers optimisÃ©e</li>
            <li class="list-item">Consommation mÃ©moire rÃ©duite</li>
          </ul>
        </div>
      </div>

      <div class="document-footer">
        <div class="footer-title">ğŸ atomeek datamatrix - guide d'installation macos</div>
        <p>Documentation adaptÃ©e pour macOS Sequoia avec optimisations spÃ©cifiques</p>
      </div>
    </div>
  </div>

  <script>
    // Fonction de copie dans le presse-papiers
    async function copyToClipboard(button) {
      const codeBlock = button.previousElementSibling;
      const code = codeBlock.innerText;

      try {
        await navigator.clipboard.writeText(code);

        // Feedback visuel
        const originalText = button.textContent;
        button.textContent = 'CopiÃ© !';
        button.classList.add('copied');

        // Retour Ã  l'Ã©tat normal aprÃ¨s 2 secondes
        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove('copied');
        }, 2000);

      } catch (err) {
        // Fallback pour les navigateurs plus anciens
        const textArea = document.createElement('textarea');
        textArea.value = code;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);

        // Feedback visuel
        const originalText = button.textContent;
        button.textContent = 'CopiÃ© !';
        button.classList.add('copied');

        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove('copied');
        }, 2000);
      }
    }

    // Smooth scrolling pour les liens d'ancrage
    document.addEventListener('DOMContentLoaded', function () {
      const links = document.querySelectorAll('a[href^="#"]');
      links.forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</body>

</html>
