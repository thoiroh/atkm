<!-- src/app/features/landing/landing.component.html -->
<!-- Updated template with SidebarBashConfigComponent integration -->

@if (config) {
<div class="landing-wrapper" [class.config-collapsed]="config?.configPanel?.isCollapsed">

  <!-- GRILLE 1: MENU PRINCIPAL (gauche) -->
  <atk-navbar-main [config]="config" />

  <!-- GRILLE 2: ZONE CENTRALE TRANSPARENTE (centre) -->
  <atk-navbar-brand [config]="config" />

  <!-- GRILLE 3: OUTILS UTILISATEUR (droite) -->
  <atk-navbar-tools [configPanelCollapsed]="bashConfigPanelCollapsed()" />

  <!-- GRILLE 4: NAVIGATION SIDEBAR (gauche) -->
  <atk-sidebar-nav [config]="config.sidebar" />

  <!-- GRILLE 5: CONTENU PRINCIPAL avec BASH COMPONENT -->
  <div class="landing-main">

    <!-- Traditional Content -->
    <atk-content-main [feeds]="config.feeds" [configPanelCollapsed]="bashConfigPanelCollapsed()" />
    <!-- <atk-content-main [feeds]="config.feeds" [configPanelCollapsed]="bashConfigPanelCollapsed()" /> -->

    <!-- <atk-content-main [feeds]="config.feeds" [configPanelCollapsed]="bashConfigPanelCollapsed()"
      (configRequest)="onBashConfigRequest($event)" (dataLoaded)="onBashDataLoaded($event)"
      (errorOccurred)="onBashError($event)" /> -->

    <!-- NEW: Bash Terminal Component -->
    <!-- <atk-bash configId="binance-debug-v2" [autoLoad]="true" (configRequest)="onBashConfigRequest($event)"
      (dataLoaded)="onBashDataLoaded($event)" (errorOccurred)="onBashError($event)" /> -->

    <!-- GRILLE 6: SIDEBAR CONFIGURATION (droite) -->
    <!-- <atk-sidebar-config [sections]="config.configPanel.sections" [isCollapsed]="config.configPanel.isCollapsed"
      (togglePanel)="toggleConfigPanel()" /> -->

    <!-- GRILLE 6: NEW BASH CONFIGURATION (droite) -->
    <atk-sidebar-bash-config [bashConfig]="bashConfig()" [terminalState]="bashTerminalState()"
      [isCollapsed]="bashConfigPanelCollapsed()" [currentEndpoint]="bashCurrentEndpoint()"
      (configChange)="onBashConfigChange($event)" (togglePanel)="toggleBashConfigPanel()" />

  </div>
</div>

} @else {
<!-- Loading state -->
<div class="loading-wrapper">
  <div class="loading-spinner">Chargement...</div>
</div>
}
