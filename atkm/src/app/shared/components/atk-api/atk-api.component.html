<!-- atk-api.component.html -->
<!-- Main container for ATK API component -->

<div class="content-wrapper">

  <!-- ======================= -->
  <!-- HEADER  -->
  <!-- ======================= -->

  <header class="content-header">
    <h1>ATK API</h1>
  </header>

  <div class="terminal-wrapper">
    @if (config(); as cfg) {
    <header class="terminal-header">
      <h1>{{ cfg.title }}</h1>
      <div class="terminal-details">
        <h2>{{ cfg.subtitle }}</h2>
      </div>
    </header>
    }

    <!-- ======================= -->
    <!-- LOADING STATE -->
    <!-- ======================= -->

    @if (state().loading) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Loading data...</p>
    </div>
    }

    <!-- ======================= -->
    <!-- ERROR STATE -->
    <!-- ======================= -->

    @if (state().error; as errorMsg) {
    <div class="error-state">
      <atk-icon name="error-2" color="currentColor" />
      <p>{{ errorMsg }}</p>
      <button class="retry-btn" (click)="loadData()">
        Retry
      </button>
    </div>
    }

    <!-- ======================= -->
    <!-- BASH SECTION -->
    <!-- ======================= -->

    <div class="terminal-main">
      <div class="terminal-section">
        <div class="section-content">
          <atk-icon class="terminal-toggle" name="triangle-down" color="var(--color-btn-bg-default)" />
          <atk-api-bash />
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ======================= -->
<!-- SIDEBAR -->
<!-- ======================= -->

<atk-api-sidebar [isCollapsed]="state().sidebarCollapsed" (togglePanel)="toggleSidebar()" />
